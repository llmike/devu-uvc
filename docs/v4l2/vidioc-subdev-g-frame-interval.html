<?xml version="1.0" encoding="ANSI_X3.4-1968" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ANSI_X3.4-1968" /><title>ioctl VIDIOC_SUBDEV_G_FRAME_INTERVAL, VIDIOC_SUBDEV_S_FRAME_INTERVAL</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="index.html" title="LINUX MEDIA INFRASTRUCTURE API" /><link rel="up" href="user-func.html" title="Appendix&#160;A.&#160;Function Reference" /><link rel="prev" href="vidioc-subdev-g-fmt.html" title="ioctl VIDIOC_SUBDEV_G_FMT, VIDIOC_SUBDEV_S_FMT" /><link rel="next" href="vidioc-subdev-g-selection.html" title="ioctl VIDIOC_SUBDEV_G_SELECTION, VIDIOC_SUBDEV_S_SELECTION" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">ioctl VIDIOC_SUBDEV_G_FRAME_INTERVAL, VIDIOC_SUBDEV_S_FRAME_INTERVAL</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vidioc-subdev-g-fmt.html">Prev</a>&#160;</td><th width="60%" align="center">Appendix&#160;A.&#160;Function Reference</th><td width="20%" align="right">&#160;<a accesskey="n" href="vidioc-subdev-g-selection.html">Next</a></td></tr></table><hr /></div><div class="refentry" title="ioctl VIDIOC_SUBDEV_G_FRAME_INTERVAL, VIDIOC_SUBDEV_S_FRAME_INTERVAL"><a id="vidioc-subdev-g-frame-interval"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VIDIOC_SUBDEV_G_FRAME_INTERVAL, VIDIOC_SUBDEV_S_FRAME_INTERVAL &#8212; Get or set the frame interval on a subdev pad</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">ioctl</b>(</code></td><td>int <var class="pdparam">fd</var>, </td></tr><tr><td>&#160;</td><td>int <var class="pdparam">request</var>, </td></tr><tr><td>&#160;</td><td>struct v4l2_subdev_frame_interval *<var class="pdparam">argp</var>
	<code>)</code>;</td></tr></table><div class="funcprototype-spacer">&#160;</div></div></div><div class="refsect1" title="Arguments"><a id="idp36649960"></a><h2>Arguments</h2><div class="variablelist"><dl><dt><span class="term"><em class="parameter"><code>fd</code></em></span></dt><dd><p>File descriptor returned by <a class="link" href="func-open.html" title="V4L2 open()"><code class="function">open()</code></a>.</p></dd><dt><span class="term"><em class="parameter"><code>request</code></em></span></dt><dd><p>VIDIOC_SUBDEV_G_FRAME_INTERVAL, VIDIOC_SUBDEV_S_FRAME_INTERVAL</p></dd><dt><span class="term"><em class="parameter"><code>argp</code></em></span></dt><dd><p></p></dd></dl></div></div><div class="refsect1" title="Description"><a id="idp36654096"></a><h2>Description</h2><div class="note" title="Experimental" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Experimental</h3><p>This is an <a class="link" href="hist-v4l2.html#experimental" title="Experimental API Elements">experimental</a>
      interface and may change in the future.</p></div><p>These ioctls are used to get and set the frame interval at specific
    subdev pads in the image pipeline. The frame interval only makes sense for
    sub-devices that can control the frame period on their own. This includes,
    for instance, image sensors and TV tuners. Sub-devices that don't support
    frame intervals must not implement these ioctls.</p><p>To retrieve the current frame interval applications set the
    <em class="structfield"><code>pad</code></em> field of a struct&#160;<a class="link" href="vidioc-subdev-g-frame-interval.html#v4l2-subdev-frame-interval" title="Table&#160;A.103.&#160;struct v4l2_subdev_frame_interval">v4l2_subdev_frame_interval</a> to
    the desired pad number as reported by the media controller API. When they
    call the <code class="constant">VIDIOC_SUBDEV_G_FRAME_INTERVAL</code> ioctl with a
    pointer to this structure the driver fills the members of the
    <em class="structfield"><code>interval</code></em> field.</p><p>To change the current frame interval applications set both the
    <em class="structfield"><code>pad</code></em> field and all members of the
    <em class="structfield"><code>interval</code></em> field. When they call the
    <code class="constant">VIDIOC_SUBDEV_S_FRAME_INTERVAL</code> ioctl with a pointer to
    this structure the driver verifies the requested interval, adjusts it based
    on the hardware capabilities and configures the device. Upon return the
    struct&#160;<a class="link" href="vidioc-subdev-g-frame-interval.html#v4l2-subdev-frame-interval" title="Table&#160;A.103.&#160;struct v4l2_subdev_frame_interval">v4l2_subdev_frame_interval</a> contains the current frame interval as would be
    returned by a <code class="constant">VIDIOC_SUBDEV_G_FRAME_INTERVAL</code> call.
    </p><p>Drivers must not return an error solely because the requested interval
    doesn't match the device capabilities. They must instead modify the interval
    to match what the hardware can provide. The modified interval should be as
    close as possible to the original request.</p><p>Sub-devices that support the frame interval ioctls should implement
    them on a single pad only. Their behaviour when supported on multiple pads
    of the same sub-device is not defined.</p><div class="table"><a id="v4l2-subdev-frame-interval"></a><p class="title"><b>Table&#160;A.103.&#160;struct <span class="structname">v4l2_subdev_frame_interval</span></b></p><div class="table-contents"><table summary="struct v4l2_subdev_frame_interval" width="100%" border="0"><colgroup><col /><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">__u32</td><td valign="top"><em class="structfield"><code>pad</code></em></td><td valign="top">Pad number as reported by the media controller API.</td></tr><tr><td valign="top">struct&#160;<a class="link" href="vidioc-enumstd.html#v4l2-fract" title="Table&#160;A.43.&#160;struct v4l2_fract">v4l2_fract</a></td><td valign="top"><em class="structfield"><code>interval</code></em></td><td valign="top">Period, in seconds, between consecutive video frames.</td></tr><tr><td valign="top">__u32</td><td valign="top"><em class="structfield"><code>reserved</code></em>[9]</td><td valign="top">Reserved for future extensions. Applications and drivers must
	    set the array to zero.</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="refsect1" title="Return Value"><a id="idp36667088"></a><h2>Return Value</h2><p>On success <span class="returnvalue">0</span> is returned, on error <span class="returnvalue">-1</span> and the <code class="varname">errno</code> variable is set appropriately. The generic error codes are described at the <a class="link" href="gen_errors.html#gen-errors" title="Table&#160;19.1.&#160;Generic error codes">Generic Error Codes</a> chapter.</p><div class="variablelist"><dl><dt><span class="term"><span class="errorcode">EBUSY</span></span></dt><dd><p>The frame interval can't be changed because the pad is currently
	  busy. This can be caused, for instance, by an active video stream on
	  the pad. The ioctl must not be retried without performing another
	  action to fix the problem first. Only returned by
	  <code class="constant">VIDIOC_SUBDEV_S_FRAME_INTERVAL</code></p></dd><dt><span class="term"><span class="errorcode">EINVAL</span></span></dt><dd><p>The struct&#160;<a class="link" href="vidioc-subdev-g-frame-interval.html#v4l2-subdev-frame-interval" title="Table&#160;A.103.&#160;struct v4l2_subdev_frame_interval">v4l2_subdev_frame_interval</a> <em class="structfield"><code>pad</code></em>
	  references a non-existing pad, or the pad doesn't support frame
	  intervals.</p></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vidioc-subdev-g-fmt.html">Prev</a>&#160;</td><td width="20%" align="center"><a accesskey="u" href="user-func.html">Up</a></td><td width="40%" align="right">&#160;<a accesskey="n" href="vidioc-subdev-g-selection.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">ioctl VIDIOC_SUBDEV_G_FMT, VIDIOC_SUBDEV_S_FMT&#160;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&#160;ioctl VIDIOC_SUBDEV_G_SELECTION, VIDIOC_SUBDEV_S_SELECTION</td></tr></table></div></body></html>
